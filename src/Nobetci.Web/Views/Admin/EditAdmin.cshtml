@using Nobetci.Web.Models
@using Nobetci.Web.Data.Entities
@model AdminUserViewModel
@{
    ViewData["Title"] = "Admin DÃ¼zenle";
}

<div class="admin-header">
    <h2>
        <span>âœï¸</span>
        Admin DÃ¼zenle
    </h2>
    <div class="header-actions">
        <a href="/admin/admins" class="btn btn-secondary">
            <span>â†</span>
            Geri DÃ¶n
        </a>
    </div>
</div>

<div class="grid-2">
    <div class="card">
        <div class="card-header">
            <span class="card-title">
                <span>ğŸ”</span>
                Admin Bilgileri
            </span>
            <span class="badge badge-info">#@Model.Id</span>
        </div>
        
        <form method="post" action="/admin/admins/edit/@Model.Id">
            <input type="hidden" name="Id" value="@Model.Id" />
            
            <div class="form-group">
                <label class="form-label">KullanÄ±cÄ± AdÄ± <span style="color: var(--danger);">*</span></label>
                <input type="text" name="Username" class="form-control" 
                       value="@Model.Username" required maxlength="50">
                @if (ViewContext.ModelState["Username"]?.Errors.Any() == true)
                {
                    <span style="color: var(--danger); font-size: 0.85rem; margin-top: 6px; display: block;">
                        âš ï¸ @ViewContext.ModelState["Username"]!.Errors.First().ErrorMessage
                    </span>
                }
            </div>
            
            <div class="form-group">
                <label class="form-label">Yeni Åifre</label>
                <input type="password" name="Password" class="form-control" 
                       minlength="6" placeholder="DeÄŸiÅŸtirmek iÃ§in doldurun">
                <small style="color: var(--text-muted); font-size: 0.8rem; margin-top: 6px; display: block;">
                    ğŸ’¡ BoÅŸ bÄ±rakÄ±rsanÄ±z mevcut ÅŸifre korunur
                </small>
            </div>
            
            <hr style="margin: 24px 0; border: none; border-top: 2px solid var(--border-color);">
            
            <div class="form-group">
                <label class="form-label">Ä°sim</label>
                <input type="text" name="FullName" class="form-control" 
                       value="@Model.FullName" maxlength="100" placeholder="Ad Soyad">
            </div>
            
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" name="Email" class="form-control" 
                       value="@Model.Email" maxlength="100" placeholder="email@@example.com">
            </div>
            
            <hr style="margin: 24px 0; border: none; border-top: 2px solid var(--border-color);">
            
            <div class="form-group">
                <label class="form-label">Rol</label>
                <select name="Role" class="form-control">
                    <option value="Admin" selected="@(Model.Role == "Admin")">ğŸ‘¤ Admin - Tam eriÅŸim (admin yÃ¶netimi hariÃ§)</option>
                    <option value="SuperAdmin" selected="@(Model.Role == "SuperAdmin")">â­ SuperAdmin - TÃ¼m yetkilere sahip</option>
                    <option value="Viewer" selected="@(Model.Role == "Viewer")">ğŸ‘ï¸ Viewer - Sadece gÃ¶rÃ¼ntÃ¼leme</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-check" style="cursor: pointer; padding: 14px 18px; border-radius: var(--radius-md); border: 2px solid @(Model.IsActive ? "var(--success)" : "var(--danger)"); @(Model.IsActive ? "background: rgba(16, 185, 129, 0.05);" : "background: rgba(239, 68, 68, 0.05);")">
                    <input type="checkbox" name="IsActive" value="true" checked="@Model.IsActive" style="width: 20px; height: 20px; accent-color: var(--success);">
                    <span style="font-weight: 600;">@(Model.IsActive ? "âœ… Aktif" : "âŒ Pasif")</span>
                </label>
            </div>
            
            <div style="display: flex; gap: 12px; margin-top: 28px;">
                <button type="submit" class="btn btn-primary btn-lg" style="flex: 1;">
                    <span>ğŸ’¾</span>
                    Kaydet
                </button>
                <a href="/admin/admins" class="btn btn-secondary btn-lg">Ä°ptal</a>
            </div>
        </form>
    </div>
    
    <div>
        <div class="card" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border-color: #60a5fa;">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
                <span style="font-size: 1.8rem;">â„¹ï¸</span>
                <div>
                    <div style="font-weight: 700; color: #1e40af; margin-bottom: 10px;">Rol AÃ§Ä±klamalarÄ±</div>
                    <div style="font-size: 0.9rem; color: #1d4ed8; line-height: 1.8;">
                        <p><strong>SuperAdmin:</strong> TÃ¼m yetkilere sahiptir. Sistem ayarlarÄ±nÄ± ve diÄŸer admin kullanÄ±cÄ±larÄ±nÄ± yÃ¶netebilir.</p>
                        <p style="margin-top: 12px;"><strong>Admin:</strong> SayfalarÄ±, kullanÄ±cÄ±larÄ± ve loglarÄ± yÃ¶netebilir. Admin yÃ¶netimi ve sistem ayarlarÄ±na eriÅŸemez.</p>
                        <p style="margin-top: 12px;"><strong>Viewer:</strong> TÃ¼m verileri gÃ¶rÃ¼ntÃ¼leyebilir ama deÄŸiÅŸiklik yapamaz.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card" style="background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); border-color: #f87171;">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
                <span style="font-size: 1.8rem;">âš ï¸</span>
                <div>
                    <div style="font-weight: 700; color: #991b1b; margin-bottom: 6px;">Dikkat</div>
                    <div style="font-size: 0.9rem; color: #b91c1c; line-height: 1.6;">
                        HesabÄ± pasif hale getirirseniz, bu admin kullanÄ±cÄ±sÄ± artÄ±k giriÅŸ yapamayacaktÄ±r.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
