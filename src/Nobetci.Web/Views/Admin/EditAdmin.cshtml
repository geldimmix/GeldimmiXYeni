@using Nobetci.Web.Models
@using Nobetci.Web.Data.Entities
@model AdminUserViewModel
@{
    ViewData["Title"] = "Admin DÃ¼zenle";
}

<div class="admin-header">
    <h2>âœï¸ Admin DÃ¼zenle</h2>
    <div class="header-actions">
        <a href="/admin/admins" class="btn btn-secondary">â† Geri</a>
    </div>
</div>

<div class="card" style="max-width: 600px;">
    <form method="post" action="/admin/admins/edit/@Model.Id">
        <input type="hidden" name="Id" value="@Model.Id" />
        
        <div class="form-group">
            <label class="form-label">KullanÄ±cÄ± AdÄ± <span style="color: red;">*</span></label>
            <input type="text" name="Username" class="form-control" 
                   value="@Model.Username" required maxlength="50">
            @if (ViewContext.ModelState["Username"]?.Errors.Any() == true)
            {
                <span style="color: red; font-size: 0.85rem;">@ViewContext.ModelState["Username"]!.Errors.First().ErrorMessage</span>
            }
        </div>
        
        <div class="form-group">
            <label class="form-label">Yeni Åifre</label>
            <input type="password" name="Password" class="form-control" 
                   minlength="6" placeholder="DeÄŸiÅŸtirmek iÃ§in doldurun">
            <small style="color: #64748b;">BoÅŸ bÄ±rakÄ±rsanÄ±z mevcut ÅŸifre korunur.</small>
        </div>
        
        <div class="form-group">
            <label class="form-label">Ä°sim</label>
            <input type="text" name="FullName" class="form-control" 
                   value="@Model.FullName" maxlength="100">
        </div>
        
        <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" name="Email" class="form-control" 
                   value="@Model.Email" maxlength="100">
        </div>
        
        <div class="form-group">
            <label class="form-label">Rol</label>
            <select name="Role" class="form-control">
                <option value="Admin" selected="@(Model.Role == "Admin")">Admin - Tam eriÅŸim (admin yÃ¶netimi hariÃ§)</option>
                <option value="SuperAdmin" selected="@(Model.Role == "SuperAdmin")">â­ SuperAdmin - TÃ¼m yetkilere sahip</option>
                <option value="Viewer" selected="@(Model.Role == "Viewer")">Viewer - Sadece gÃ¶rÃ¼ntÃ¼leme</option>
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-check" style="cursor: pointer;">
                <input type="checkbox" name="IsActive" value="true" checked="@Model.IsActive">
                <span>Aktif</span>
            </label>
        </div>
        
        <div style="display: flex; gap: 12px; margin-top: 24px;">
            <button type="submit" class="btn btn-primary">ğŸ’¾ Kaydet</button>
            <a href="/admin/admins" class="btn btn-secondary">Ä°ptal</a>
        </div>
    </form>
</div>
