@{
    var isTurkish = System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName == "tr";
}
<!DOCTYPE html>
<html lang="@System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Geldimmi</title>
    
    <!-- SEO Meta Tags -->
    @if (ViewData["MetaDescription"] != null)
    {
        <meta name="description" content="@ViewData["MetaDescription"]" />
    }
    @if (ViewData["MetaKeywords"] != null)
    {
        <meta name="keywords" content="@ViewData["MetaKeywords"]" />
    }
    
    <!-- Open Graph -->
    <meta property="og:title" content="@ViewData["Title"] - Geldimmi" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://geldimmi.com" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="~/favicon.ico" />
    
    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top navbar-custom">
        <div class="container">
            <a class="navbar-brand" href="~/">
                <span class="brand-logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="32" height="32" rx="8" fill="url(#brand-gradient)"/>
                        <path d="M8 16L14 22L24 10" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <defs>
                            <linearGradient id="brand-gradient" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#6366f1"/>
                                <stop offset="1" stop-color="#8b5cf6"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <span class="brand-name">Geldimmi</span>
                </span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Home" asp-action="Index">
                            @(isTurkish ? "Ana Sayfa" : "Home")
                        </a>
                    </li>
                    
                    <!-- SEO Pages Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="featuresDropdown" role="button" data-bs-toggle="dropdown">
                            @(isTurkish ? "Özellikler" : "Features")
                        </a>
                        <ul class="dropdown-menu dropdown-menu-custom">
                            <li class="dropdown-header">@(isTurkish ? "Nöbet Planlama" : "Shift Scheduling")</li>
                            <li>
                                <a class="dropdown-item" href="@(isTurkish ? "/rehber/nobet-listesi-olusturma" : "/guide/shift-scheduling")">
                                    <span class="dropdown-icon">📅</span>
                                    <span class="dropdown-text">
                                        <strong>@(isTurkish ? "Nöbet Listesi Oluşturma" : "Shift Scheduling")</strong>
                                        <small>@(isTurkish ? "Kolay ve hızlı nöbet planı" : "Easy and fast shift planning")</small>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="@(isTurkish ? "/rehber/hemsire-nobet-programi" : "/guide/nurse-shift-planner")">
                                    <span class="dropdown-icon">👩‍⚕️</span>
                                    <span class="dropdown-text">
                                        <strong>@(isTurkish ? "Hemşire Nöbet Programı" : "Nurse Shift Planner")</strong>
                                        <small>@(isTurkish ? "Hastaneler için özel çözüm" : "Special solution for hospitals")</small>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="@(isTurkish ? "/rehber/adil-nobet-dagitimi" : "/guide/fair-shift-distribution")">
                                    <span class="dropdown-icon">⚖️</span>
                                    <span class="dropdown-text">
                                        <strong>@(isTurkish ? "Adil Nöbet Dağıtımı" : "Fair Shift Distribution")</strong>
                                        <small>@(isTurkish ? "Akıllı algoritma ile dengeli dağıtım" : "Balanced distribution with smart algorithm")</small>
                                    </span>
                                </a>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                            <li class="dropdown-header">@(isTurkish ? "Puantaj & Raporlama" : "Timesheet & Reporting")</li>
                            <li>
                                <a class="dropdown-item" href="@(isTurkish ? "/rehber/puantaj-hesaplama" : "/guide/timesheet-calculation")">
                                    <span class="dropdown-icon">📊</span>
                                    <span class="dropdown-text">
                                        <strong>@(isTurkish ? "Puantaj Hesaplama" : "Timesheet Calculation")</strong>
                                        <small>@(isTurkish ? "Otomatik mesai hesabı" : "Automatic overtime calculation")</small>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="@(isTurkish ? "/rehber/fazla-mesai-hesaplama" : "/guide/overtime-calculation")">
                                    <span class="dropdown-icon">⏰</span>
                                    <span class="dropdown-text">
                                        <strong>@(isTurkish ? "Fazla Mesai Hesaplama" : "Overtime Calculation")</strong>
                                        <small>@(isTurkish ? "Günlük ve aylık modlar" : "Daily and monthly modes")</small>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="App" asp-action="Index">
                            @(isTurkish ? "Ücretsiz Başla" : "Start Free")
                        </a>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <!-- Language Selector -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle lang-toggle" href="#" id="languageDropdown" role="button" data-bs-toggle="dropdown">
                            @if (isTurkish)
                            {
                                <span>🇹🇷</span>
                            }
                            else
                            {
                                <span>🇬🇧</span>
                            }
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-custom">
                            <li>
                                <form asp-controller="Home" asp-action="SetLanguage" method="post">
                                    <input type="hidden" name="culture" value="tr" />
                                    <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                    <button type="submit" class="dropdown-item @(isTurkish ? "active" : "")">
                                        🇹🇷 Türkçe
                                    </button>
                                </form>
                            </li>
                            <li>
                                <form asp-controller="Home" asp-action="SetLanguage" method="post">
                                    <input type="hidden" name="culture" value="en" />
                                    <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                                    <button type="submit" class="dropdown-item @(!isTurkish ? "active" : "")">
                                        🇬🇧 English
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </li>
                    
                    @if (User.Identity?.IsAuthenticated == true)
                    {
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Account" asp-action="Logout">
                                @(isTurkish ? "Çıkış" : "Logout")
                            </a>
                        </li>
                    }
                    else
                    {
                        <li class="nav-item d-none d-lg-block">
                            <a class="nav-link" asp-controller="Account" asp-action="Login">
                                @(isTurkish ? "Giriş" : "Login")
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="btn btn-primary btn-nav-cta ms-2" asp-controller="Account" asp-action="Register">
                                @(isTurkish ? "Kayıt Ol" : "Sign Up")
                            </a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>
    
    <style>
        /* Navbar Custom Styles */
        .navbar-custom {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            padding: 12px 0;
            transition: all 0.3s ease;
        }
        
        .navbar-custom.scrolled {
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .brand-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .brand-name {
            font-size: 1.35rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .navbar-custom .nav-link {
            color: #475569;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        
        .navbar-custom .nav-link:hover {
            color: #6366f1;
            background: rgba(99, 102, 241, 0.08);
        }
        
        .lang-toggle {
            padding: 6px 12px !important;
            font-size: 1.1rem;
        }
        
        .btn-nav-cta {
            padding: 8px 20px;
            font-weight: 600;
            border-radius: 8px;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            color: white;
            transition: all 0.2s ease;
        }
        
        .btn-nav-cta:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
            color: white;
        }
        
        /* Dropdown Styles */
        .dropdown-menu-custom {
            border: none;
            box-shadow: 0 10px 40px rgba(0,0,0,0.12);
            border-radius: 12px;
            padding: 12px;
            min-width: 280px;
            animation: dropdownFade 0.2s ease;
        }
        
        @@keyframes dropdownFade {
            from { opacity: 0; transform: translateY(-8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .dropdown-menu-custom .dropdown-header {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #94a3b8;
            padding: 8px 12px 4px;
        }
        
        .dropdown-menu-custom .dropdown-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px 12px;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        
        .dropdown-menu-custom .dropdown-item:hover {
            background: rgba(99, 102, 241, 0.08);
        }
        
        .dropdown-menu-custom .dropdown-item.active {
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }
        
        .dropdown-icon {
            font-size: 1.25rem;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f1f5f9;
            border-radius: 8px;
            flex-shrink: 0;
        }
        
        .dropdown-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .dropdown-text strong {
            font-size: 0.9rem;
            color: #1e293b;
        }
        
        .dropdown-text small {
            font-size: 0.75rem;
            color: #64748b;
        }
        
        .dropdown-divider {
            margin: 8px 0;
        }
    </style>
    
    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar-custom');
            if (window.scrollY > 10) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>

    <!-- Main Content -->
    <main>
        @RenderBody()
    </main>

    <!-- Footer -->
    <footer class="footer-section">
        <div class="container">
            <div class="footer-main">
                <div class="row g-4">
                    <!-- Brand -->
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-brand">
                            <a href="~/" class="d-inline-flex align-items-center text-decoration-none mb-3">
                                <span class="brand-text">Geldimmi</span>
                            </a>
                            <p class="footer-desc">
                                @(isTurkish 
                                    ? "Hastaneler ve işletmeler için akıllı nöbet planlama ve otomatik puantaj sistemi."
                                    : "Smart shift planning and automatic timesheet system for hospitals and businesses.")
                            </p>
                        </div>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="col-lg-2 col-md-6 col-6">
                        <h6 class="footer-title">@(isTurkish ? "Ürün" : "Product")</h6>
                        <ul class="footer-links">
                            <li><a href="/app">@(isTurkish ? "Nöbet Oluştur" : "Create Shift")</a></li>
                            <li><a href="/app">@(isTurkish ? "Puantaj Al" : "Get Timesheet")</a></li>
                        </ul>
                    </div>
                    
                    <!-- Resources -->
                    <div class="col-lg-2 col-md-6 col-6">
                        <h6 class="footer-title">@(isTurkish ? "Kaynaklar" : "Resources")</h6>
                        <ul class="footer-links">
                            <li><a href="/seo/nobet-listesi-olusturma">@(isTurkish ? "Nöbet Rehberi" : "Shift Guide")</a></li>
                            <li><a href="/seo/puantaj-hesaplama">@(isTurkish ? "Puantaj Rehberi" : "Timesheet Guide")</a></li>
                        </ul>
                    </div>
                    
                    <!-- Legal -->
                    <div class="col-lg-2 col-md-6 col-6">
                        <h6 class="footer-title">@(isTurkish ? "Yasal" : "Legal")</h6>
                        <ul class="footer-links">
                            <li><a href="/privacy">@(isTurkish ? "Gizlilik" : "Privacy")</a></li>
                            <li><a href="/terms">@(isTurkish ? "Şartlar" : "Terms")</a></li>
                        </ul>
                    </div>
                    
                    <!-- Contact -->
                    <div class="col-lg-2 col-md-6 col-6">
                        <h6 class="footer-title">@(isTurkish ? "İletişim" : "Contact")</h6>
                        <ul class="footer-links">
                            <li><a href="mailto:info@geldimmi.com">info@geldimmi.com</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="row align-items-center">
                    <div class="col-md-6 text-center text-md-start">
                        <p class="mb-0">© 2026 Geldimmi. @(isTurkish ? "Tüm hakları saklıdır." : "All rights reserved.")</p>
                    </div>
                    <div class="col-md-6 text-center text-md-end mt-2 mt-md-0">
                        <span class="footer-made">
                            @(isTurkish ? "🇹🇷 Türkiye'de yapıldı" : "🇹🇷 Made in Turkey")
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <style>
        .footer-section {
            background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
            margin-top: 0;
        }
        
        .footer-main {
            padding: 60px 0 40px;
        }
        
        .footer-brand .brand-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: #6366f1;
        }
        
        .footer-desc {
            color: #64748b;
            font-size: 0.9rem;
            line-height: 1.6;
            max-width: 280px;
        }
        
        .footer-title {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #1e293b;
            margin-bottom: 16px;
        }
        
        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #64748b;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }
        
        .footer-links a:hover {
            color: #6366f1;
        }
        
        .footer-bottom {
            padding: 24px 0;
            border-top: 1px solid #e2e8f0;
        }
        
        .footer-bottom p {
            color: #94a3b8;
            font-size: 0.85rem;
        }
        
        .footer-made {
            color: #94a3b8;
            font-size: 0.85rem;
        }
    </style>

    <!-- Scripts -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
